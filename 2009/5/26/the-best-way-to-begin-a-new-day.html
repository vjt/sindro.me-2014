<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 * 
 * There are no secret messages here :-) for some fun, have a look at http://segmentation-fault.core-dumped.info/
 *
 * - vjt
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from sindro.me/2009/5/26/the-best-way-to-begin-a-new-day by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 08 Oct 2016 01:00:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<title>sindro&#x00b7;me |  The best way to begin a new day </title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) 2009 Marcello Barnaba &lt;vjt&#x40;openssl.it&gt;" />
<meta name="description" content=" The best way to begin a new day | XFS internal error XFS_WANT_CORRUPTED_RETURN at line 295 of file fs/xfs/xfs_alloc.c.  Caller 0xc018066c [&lt;c017fed0&gt;] xfs_alloc_fixup_trees+0x1b0/0x2e0 [&lt;c018066c&gt;] xfs_alloc_ag_vextent_near+0x31c/0x9c0 [&lt;c018066c&gt;] xfs_alloc_ag_vextent_near+0x31c/0x9c0 [&lt;c0180187&gt;] xfs_alloc_ag_vextent+0xf7/0x100 [&lt;c01824fe&gt;] xfs_alloc_vextent+0x35e/0x420 [&lt;c019015d&gt;] xfs_bmap_alloc+0x80d/0x12b0 [&lt;c0111254&gt;] try_to_wake_up+0xa4/0xc0 [&lt;c02cf248&gt;] schedule+0x308/0x5c0 [&lt;c01939c4&gt;] xfs_bmapi+0x514/0x1470 [&lt;c0130069&gt;] find_lock_page+0x29/0xe0 [&lt;c013013c&gt;] find_or_create_page+0x1c/0xb0 [&lt;c01d9116&gt;] kmem_zone_zalloc+0x26/0x50 [&lt;c01a2296&gt;] xfs_dir2_grow_inode+0xf6/0x3c0 " />
<meta name="keywords" content=" data,linux,recovery,xfs,marcello,barnaba,blog,vjt,vjt@openssl.it,marcello.barnaba@gmail.com,ruby,rails,javascript,jquery,prototype,html,xhtml,programming,web,web2.0,technology,42,social,media,networking" />

<link rel="shortcut icon" type="image/x-icon" href="../../../images/favicon.ico" />

<link href="../../../stylesheets/style.css" rel="stylesheet" type="text/css" media="screen" />
<link href="../../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />


<link href="http://feeds2.feedburner.com/sindrome" rel="alternate" type="application/atom+xml" title="Articles" />
<link href="http://feeds2.feedburner.com/sindrome_comments" rel="alternate" type="application/atom+xml" title="Comments" />

</head>
<body>
  <div id="header">
    <div class="inside">
      <h2><a href="../../../index.html">sindro&#x00b7;me</a></h2>
      <p class="description">just another drop in the ocean</p>
      <div class="clear"> </div>
    </div>
  </div>

  <div id="primary" class="single-post">

  <div class="inside">

    <div class="primary">
      <h1>The best way to begin a new day</h1>
      <pre><code>
XFS internal error XFS_WANT_CORRUPTED_RETURN at line 295 of file fs/xfs/xfs_alloc.c.  Caller 0xc018066c
 [&lt;c017fed0&gt;] xfs_alloc_fixup_trees+0x1b0/0x2e0
 [&lt;c018066c&gt;] xfs_alloc_ag_vextent_near+0x31c/0x9c0
 [&lt;c018066c&gt;] xfs_alloc_ag_vextent_near+0x31c/0x9c0
 [&lt;c0180187&gt;] xfs_alloc_ag_vextent+0xf7/0x100
 [&lt;c01824fe&gt;] xfs_alloc_vextent+0x35e/0x420
 [&lt;c019015d&gt;] xfs_bmap_alloc+0x80d/0x12b0
 [&lt;c0111254&gt;] try_to_wake_up+0xa4/0xc0
 [&lt;c02cf248&gt;] schedule+0x308/0x5c0
 [&lt;c01939c4&gt;] xfs_bmapi+0x514/0x1470
 [&lt;c0130069&gt;] find_lock_page+0x29/0xe0
 [&lt;c013013c&gt;] find_or_create_page+0x1c/0xb0
 [&lt;c01d9116&gt;] kmem_zone_zalloc+0x26/0x50
 [&lt;c01a2296&gt;] xfs_dir2_grow_inode+0xf6/0x3c0
 [&lt;c01b57a6&gt;] xfs_iget_core+0x326/0x5a0
 [&lt;c0163315&gt;] alloc_inode+0xd5/0x170
 [&lt;c01b978b&gt;] xfs_idata_realloc+0x3b/0x160
 [&lt;c01a3e2d&gt;] xfs_dir2_sf_to_block+0xad/0x680
 [&lt;c0137882&gt;] cache_grow+0xe2/0x150
 [&lt;c01aa27b&gt;] xfs_dir2_sf_addname+0x9b/0x110
 [&lt;c01a1c51&gt;] xfs_dir2_createname+0x131/0x140
 [&lt;c01d9116&gt;] kmem_zone_zalloc+0x26/0x50
 [&lt;c01cebcb&gt;] xfs_trans_ijoin+0x2b/0x80
 [&lt;c01d4967&gt;] xfs_create+0x407/0x6c0
 [&lt;c017e766&gt;] xfs_acl_vhasacl_default+0x36/0x50
 [&lt;c01df8f4&gt;] linvfs_mknod+0x2c4/0x390
 [&lt;c01a1d62&gt;] xfs_dir2_lookup+0x102/0x110
 [&lt;c01228b8&gt;] in_group_p+0x38/0x70
 [&lt;c01ba9a6&gt;] xfs_iaccess+0xc6/0x1a0
 [&lt;c0157cb7&gt;] permission+0x97/0xd0
 [&lt;c0158f94&gt;] __link_path_walk+0xda4/0xe90
 [&lt;c0157cb7&gt;] permission+0x97/0xd0
 [&lt;c015984c&gt;] vfs_create+0x9c/0x120
 [&lt;c015a00b&gt;] open_namei+0x58b/0x5e0
 [&lt;c014aa9d&gt;] filp_open+0x2d/0x50
 [&lt;c014ac70&gt;] get_unused_fd+0x50/0xc0
 [&lt;c0157ae7&gt;] getname+0x67/0xb0
 [&lt;c014ad9c&gt;] sys_open+0x3c/0x80
 [&lt;c0102867&gt;] sysenter_past_esp+0x54/0x75
</code></pre>
<a name="continue"></a>
<pre><code>
xfs_force_shutdown(hda8,0x8) called from line 1091 of file fs/xfs/xfs_trans.c.  Return address = 0xc01e2c5c
Filesystem "hda8": Corruption of in-memory data detected.  Shutting down filesystem: hda8
Please umount the filesystem, and rectify the problem(s)
xfs_force_shutdown(hda8,0x1) called from line 353 of file fs/xfs/xfs_rw.c.  Return address = 0xc01e2c5c
printk: 12 messages suppressed.
</code></pre>

	<p>Yeah, I&#8217;d umount <code>/var</code>, if this box didn&#8217;t acted_as_router and didn&#8217;t run <code>pppd</code> that didn&#8217;t lock <code>/var/run/pppd2.tdb</code>...</p>


<pre><code>
pppd   222 root  mem   REG    3,8    88080525 /var/run/pppd2.tdb (path dev=0,0 inode=34)
</code></pre>

	<p>Of course <code>kill 222 ; pppd call dsl-provider</code> doesn&#8217;t work. <span class="caps">YUCK</span>. Let&#8217;s put a router in front of it.. configure, portforward, and start over.. then <code>fdisk /dev/hdc</code> to recreate partitions structure on the new hard disk, <code>mkfs.xfs</code> on all the new partitions, <code>mount /dev/hdcX /target</code>, <code>pax -r -w -p e /{bin,boot,dev,etc,home,initrd,lib,media,root,sbin,srv,tmp,usr,var} /target</code>... wait a lot for the copy to complete because of damaged sectors on the source hard disk, <code>chroot /target</code>, <code>vi /etc/lilo.conf</code> and substitute <code>boot=/dev/hda</code> with <code>boot=/dev/hdc</code>, run <code>lilo -v</code> while in the chroot verify <code>/etc/fstab</code>, and finally <code>shutdown</code> to remove the faulty disk, and boot again.. restoring <code>lilo.conf</code>. yay!</p>

      <div class="navigation">
        <div class="previous">
        
          &lt;&lt;&lt; <a href="../18/girl-geeks-dinner-workshop-apple-store-rome.html" title="PREV">PREV</a>
        
        </div>
        <div class="next">
        
          <a href="../28/e-privacy-2009-towards-global-control.html" title="NEXT">NEXT</a> &gt;&gt;&gt;
        
        </div>
      </div>
    </div>

    <div class="secondary">
      <div id="share-icons">
<span>
<a href="http://feeds2.feedburner.com/sindrome" target="_blank" rel="alternate" type="application/rss+xml"><img src="../../../images/icon-feed.png" alt="RSS"/></a>&nbsp;<a href="http://feeds2.feedburner.com/sindrome" target="_blank" rel="alternate" type="application/rss+xml">Subscribe to sindro&#x00b7;me</a></span>
<span>
<a href="http://feedburner.google.com/fb/a/mailverify?uri=sindrome&amp;loc=en_US" target="_blank"><img src="../../../images/icon-email.png" alt="E-Mail"/></a>&nbsp;<a href="http://feedburner.google.com/fb/a/mailverify?uri=sindrome&amp;loc=en_US" target="blank">Subscribe via e-mail</a></span>
<span>
<a href="../../../marcello-barnaba.html"><img src="../../../images/question-mark.jpg" alt="bio" /></a>&nbsp;<a href="../../../marcello-barnaba.html">About the author</a></span>
</div>
<div id="license">
<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-sa/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-sa/3.0/us/88x31.png" /></a></div>

      <h2>About this entry</h2>
      <div class="featured">
        <p>You&rsquo;re currently reading &ldquo;<em>The best way to begin a new day</em>&rdquo;, an entry on sindro.me</p>
        <dl>
          <dt>Published:</dt>
          <dd>05.26.09 / 10AM</dd>
        </dl>
      
        <dl>
          <dt>Updated:</dt>
          <dd>05.26.09 / 13PM</dd>
        </dl>
      
        <dl>
          <dt>Sections:</dt>
          <dd>
            
              <a class="selected" href="../../../number-42.html" title="number 42">number 42</a>
            
          </dd>
        </dl>
        
        <dl>
          <dt>Tags:</dt>
          <dd class="tags">
            
              <a href="../../../tags/data.html" rel="tag" title="data">data</a>
               <strong>|</strong> 
            
              <a href="../../../tags/linux.html" rel="tag" title="linux">linux</a>
               <strong>|</strong> 
            
              <a href="../../../tags/recovery.html" rel="tag" title="recovery">recovery</a>
               <strong>|</strong> 
            
              <a href="../../../tags/xfs.html" rel="tag" title="xfs">xfs</a>
              
            
          </dd>
        </dl>
        
      </div>
    </div>
    <div class="clear"></div>
  </div>
</div>
<!-- [END] #primary -->

  

<div id="ancillary">
  <div class="inside">

    <div class="block first">
  <h2><a href="../../../marcello-barnaba.html">About</a></h2>
  <p>This is <a href="../../../marcello-barnaba.html">sindro.me</a>, a weblog by <a href="../../../marcello-barnaba.html">Marcello Barnaba</a> (<a href="http://twitter.com/vjt"><em>@vjt</em></a>) about technology, ruby, development, software, the internet, entertainment, politics, sociology, and the answer to Life, Universe, and Everything (42).</p>

  <h2>Links</h2>
  <ul class="counts">
    <li><a href="http://segmentation-fault.core-dumped.info/">Segmentation fault (core dumped)</a></li>
    <li><a href="http://www.linkedin.com/in/marcellobarnaba" target="_blank">LinkedIn</a></li>
    <li><a href="http://www.linkedin.com/profile/pdf?id=18152447&amp;pdfFileName=MarcelloBarnaba-Resume&amp;disablePdfCompression=true">Resum&egrave;</a></li>
    <li><a href="https://github.com/vjt" target="_blank">github</a></li>
    <li><a href="http://sourceforge.net/users/vjt" target="_blank">sourceforge profile</a></li>
    <li><a href="https://plus.google.com/+MarcelloBarnaba" target="_blank">google+</a></li>
    <li><a href="https://facebook.com/vjt.rb" target="_blank">facebook</a></li>
    <li><a href="http://devjt.deviantart.com/" target="_blank">deviantArt</a></li>
    <li><a href="http://last.fm/user/vjt" target="_blank">last.fm</a></li>
    <li><a href="http://en.wikipedia.org/wiki/User:Vjt" target="_blank">en.wikipedia user page</a></li>
    <li><a href="http://delicious.com/vjt" target="_blank">delicious</a></li>
    <li><a href="http://barnaba.openssl.it/" target="_blank">historical college projects</a></li>
    <hr/>
    <li><a href="http://www.ifad.org/">Work - IFAD</a></li>
    <li><a href="http://antifork.org/" target="_blank">Hacks - antifork (outdated)</a></li>
  </ul>
</div>

        <div class="block">
      <h2>Recent articles</h2>
      <ul class="dates">
        
          <li><a href="../../../2014/2/28/il-vero-sistemista.html"><span class="date">02.14</span> Il vero sistemista</a></li>
        
          <li><a href="../../../2014/2/28/goto-fail.html"><span class="date">02.14</span> goto fail;</a></li>
        
          <li><a href="../../../2013/12/1/this-weekend-i-didn-t-code.html"><span class="date">12.13</span> This weekend I didn't code</a></li>
        
          <li><a href="../../../2011/9/12/install-node-js-via-apt-on-debian-squeeze.html"><span class="date">09.11</span> Install node.js via APT on Debian Squeeze</a></li>
        
          <li><a href="../../../2011/7/7/binding-port-80-for-your-development-application-server.html"><span class="date">07.11</span> Binding 80/TCP as non-root on your development server</a></li>
        
          <li><a href="../../../2011/7/2/ph-neutral-0x7db.html"><span class="date">07.11</span> PH-Neutral 0x7db</a></li>
        
          <li><a href="../../../2011/3/6/rome-rsc-2011.html"><span class="date">03.11</span> Rome RSC 2011</a></li>
        
          <li><a href="../../../2011/1/4/bsd-onto-a-macmini-4-1-no-way.html"><span class="date">01.11</span> *BSD onto a MacMini 4,1? No way. :-(</a></li>
        
      </ul>
    </div>

          <div class="block">
        <h2>Categories</h2>
        <ul class="counts">
        
          <li><a href="../../../index.html"><span class="count">64</span>everything</a></li>
        
          <li><a href="../../../development.html"><span class="count">28</span>development</a></li>
        
          <li><a href="../../../politics.html"><span class="count">13</span>politics</a></li>
        
          <li><a href="../../../number-42.html"><span class="count">29</span>number 42</a></li>
        
        </ul>
      </div>

    
    <div class="clear"></div>
  </div>
</div>


  <div id="footer">
    <div class="inside">
      <p class="copyright">Hemingway theme &copy;2003-2005 Kyle Neath</p>
      <div class="glider"><a href="http://catb.org/jargon" target="blank"><img src="../../../images/glider.png" alt="hacker's glider" title="hacker's glider"/></a></div>
      <p class="attributes">
        <a href="http://validator.w3.org/check/referer" target="_blank">Valid XHTML 1.0 Transitional</a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer/" target="_blank">Valid CSS <sub>(except for an IE hack)</sub></a>
      </p>
    </div>
  </div>

  <div id="print-footer">
  
    <p>This article is (C) Tue May 26 13:43:00 UTC 2009 Marcello Barnaba &lt;<a href="mailto:vjt@openssl.it">vjt@openssl.it</a>&gt;, released under a Creative Commons BY-SA license.</p>
    <p> It was printed from <a href="../../../index.html">sindro.me</a> and is available via the following link: &laquo;<a href="the-best-way-to-begin-a-new-day.html" title="The best way to begin a new day">The best way to begin a new day</a>&raquo;</p>
  
  </div>

  <!-- script type="text/javascript" src="http://antani.r13.railsrumble.com/assets/hermes.js"></script-->
  
</body>

<!-- Mirrored from sindro.me/2009/5/26/the-best-way-to-begin-a-new-day by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 08 Oct 2016 01:00:10 GMT -->
</html>
