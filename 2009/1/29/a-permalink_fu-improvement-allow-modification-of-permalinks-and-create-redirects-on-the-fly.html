<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 * 
 * There are no secret messages here :-) for some fun, have a look at http://segmentation-fault.core-dumped.info/
 *
 * - vjt
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from sindro.me/2009/1/29/a-permalink_fu-improvement-allow-modification-of-permalinks-and-create-redirects-on-the-fly by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 08 Oct 2016 01:01:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<title>sindro&#x00b7;me |  A permalink_fu improvement: allow modification of permalinks and send HTTP redirects on-the-fly </title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) 2009 Marcello Barnaba &lt;vjt&#x40;openssl.it&gt;" />
<meta name="description" content=" A permalink_fu improvement: allow modification of permalinks and send HTTP redirects on-the-fly | Another spin-off from the www.visitacsa.it website: a permalink_fu improvement that allows dynamic permalinks. I know it is an oximoron, because permalinks should be .. well .. permanent! And because search engines index them, they should never change. But what happens when you publish something, your permalink is generated with permalink_fu using the title of your post, and after a couple of days you want to change the title, and the permalink under which the post is accessible as well?	Following the specification, your app should send out a 301 moved permanently HTTP status when accessing the old permalink and redirect the client to the new Uniform Resource Locator. That&#8217;s quite the same thing what my modification to permalink_fu does: whenever your post attributes are changed, the former and new permalinks are saved to the database, and you can enable your controller to generate 302 moved temporarily redirects when needed. In other words, it checks whether the requested URL is an old permalink, and automagically redirects the client to the new one. " />
<meta name="keywords" content=" permalink,plugin,projects,rails,ruby,marcello,barnaba,blog,vjt,vjt@openssl.it,marcello.barnaba@gmail.com,ruby,rails,javascript,jquery,prototype,html,xhtml,programming,web,web2.0,technology,42,social,media,networking" />

<link rel="shortcut icon" type="image/x-icon" href="../../../images/favicon.ico" />

<link href="../../../stylesheets/style.css" rel="stylesheet" type="text/css" media="screen" />
<link href="../../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />


<link href="http://feeds2.feedburner.com/sindrome" rel="alternate" type="application/atom+xml" title="Articles" />
<link href="http://feeds2.feedburner.com/sindrome_comments" rel="alternate" type="application/atom+xml" title="Comments" />

</head>
<body>
  <div id="header">
    <div class="inside">
      <h2><a href="../../../index.html">sindro&#x00b7;me</a></h2>
      <p class="description">just another drop in the ocean</p>
      <div class="clear"> </div>
    </div>
  </div>

  <div id="primary" class="single-post">

  <div class="inside">

    <div class="primary">
      <h1>A permalink_fu improvement: allow modification of permalinks and send HTTP redirects on-the-fly</h1>
      <p>Another spin-off from the <a href="http://www.visitacsa.it/" target="_blank">www.visitacsa.it</a> website: a <a href="http://github.com/technoweenie/permalink_fu/tree/master" target="_blank">permalink_fu</a> improvement that allows <b>dynamic permalinks</b>. I know it is an <a href="http://en.wikipedia.org/wiki/Oxymoron" target="_blank">oximoron</a>, because permalinks should be .. well .. permanent! And because <a href="http://www.searchlores.org/main.htm" target="_blank">search engines</a> index them, they should never change. But what happens when you publish <em>something</em>, your permalink is generated with permalink_fu using the <em>title</em> of your post, and after a couple of days you want to change the title, and the permalink under which the post is accessible as well?</p>


	<p>Following the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">specification</a>, your app should send out a <em>301 moved permanently</em> HTTP status when accessing the old permalink and redirect the client to the new Uniform Resource Locator. That&#8217;s quite the same thing what my modification to <em>permalink_fu</em> does: whenever your post attributes are changed, the former and new permalinks are saved to the database, and you can enable your controller to generate <em>302 moved temporarily</em> redirects when needed. In other words, it checks whether the requested <span class="caps">URL</span> is an old permalink, and automagically redirects the client to the new one.</p>


	<p><a name="continue"></a>
Everything is done behind the scenes, and the plugin has also got nifty rake tasks to set up the Redirect model and associated migrations. And you can change its name, of course! :)</p>


	<p>The <em>302</em> code was chosen because the <em>301 permanent</em> status code <a href="http://www.google.com/support/webmasters/bin/answer.py?hl=en&amp;answer=40132">has quite disruptive effects on search engines</a>, but more discussion is welcome.</p>


	<p>Have a look over <a href="http://github.com/vjt/permalink_fu/tree/master">my repository at github</a>, read the <a href="http://github.com/vjt/permalink_fu/blob/b8d979f28c9795389cc65e9670a3529f805618dc/README"><span class="caps">README</span></a> that contains the documentation of the added features, and check out the code! :)</p>

      <div class="navigation">
        <div class="previous">
        
          &lt;&lt;&lt; <a href="the-jquery-ajax-upload-fu-plugin-2.html" title="PREV">PREV</a>
        
        </div>
        <div class="next">
        
          <a href="../../2/3/continuous-evolution.html" title="NEXT">NEXT</a> &gt;&gt;&gt;
        
        </div>
      </div>
    </div>

    <div class="secondary">
      <div id="share-icons">
<span>
<a href="http://feeds2.feedburner.com/sindrome" target="_blank" rel="alternate" type="application/rss+xml"><img src="../../../images/icon-feed.png" alt="RSS"/></a>&nbsp;<a href="http://feeds2.feedburner.com/sindrome" target="_blank" rel="alternate" type="application/rss+xml">Subscribe to sindro&#x00b7;me</a></span>
<span>
<a href="http://feedburner.google.com/fb/a/mailverify?uri=sindrome&amp;loc=en_US" target="_blank"><img src="../../../images/icon-email.png" alt="E-Mail"/></a>&nbsp;<a href="http://feedburner.google.com/fb/a/mailverify?uri=sindrome&amp;loc=en_US" target="blank">Subscribe via e-mail</a></span>
<span>
<a href="../../../marcello-barnaba.html"><img src="../../../images/question-mark.jpg" alt="bio" /></a>&nbsp;<a href="../../../marcello-barnaba.html">About the author</a></span>
</div>
<div id="license">
<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-sa/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-sa/3.0/us/88x31.png" /></a></div>

      <h2>About this entry</h2>
      <div class="featured">
        <p>You&rsquo;re currently reading &ldquo;<em>A permalink_fu improvement: allow modification of permalinks and send HTTP redirects on-the-fly</em>&rdquo;, an entry on sindro.me</p>
        <dl>
          <dt>Published:</dt>
          <dd>01.29.09 / 19PM</dd>
        </dl>
      
        <dl>
          <dt>Updated:</dt>
          <dd>02.20.09 / 04AM</dd>
        </dl>
      
        <dl>
          <dt>Sections:</dt>
          <dd>
            
              <a class="selected" href="../../../development.html" title="development">development</a>
            
          </dd>
        </dl>
        
        <dl>
          <dt>Tags:</dt>
          <dd class="tags">
            
              <a href="../../../tags/permalink.html" rel="tag" title="permalink">permalink</a>
               <strong>|</strong> 
            
              <a href="../../../tags/plugin.html" rel="tag" title="plugin">plugin</a>
               <strong>|</strong> 
            
              <a href="../../../tags/projects.html" rel="tag" title="projects">projects</a>
               <strong>|</strong> 
            
              <a href="../../../tags/rails.html" rel="tag" title="rails">rails</a>
               <strong>|</strong> 
            
              <a href="../../../tags/ruby.html" rel="tag" title="ruby">ruby</a>
              
            
          </dd>
        </dl>
        
      </div>
    </div>
    <div class="clear"></div>
  </div>
</div>
<!-- [END] #primary -->


<div id="secondary">
  <div class="inside">

    <div class="comment-head">
      <div class="comment-icon"><!-- credit: http://tancredi.co.uk --></div>
      <h2>2 comments</h2>
    </div>

    <ol id="comments">
      
      <li>
        <cite>
          <span class="avatar"> <img alt="Tekin" class="gravatar" height="40" src="http://www.gravatar.com/avatar.php?size=40&amp;gravatar_id=73f812133e01dac8eb9b67746fe27393&amp;default=identicon" width="40" /></span>
          <span class="author">
            
              <a href="http://tekin.co.uk/" target="_blank">Tekin</a>
            
          </span>
          <span class="date">02.20.09 / 16PM</span>
        </cite>
        <div class="content">
          <p>Hi,</p>


	<p>I&#8217;ve tried to use your fork of permalink_fu but can&#8217;t get it to play nice. It seems to work fine for the first redirect, but then after that I get an error which I can&#8217;t get to the bottom of.</p>


	<p>Stack trace is here: http://gist.github.com/67485</p>


	<p>Any ideas?</p>


	<p>Tekin</p>
        </div>
        <div class="clear"></div>
      </li>
      
      <li>
        <cite>
          <span class="avatar"> <img alt="vjt" class="gravatar" height="40" src="http://www.gravatar.com/avatar.php?size=40&amp;gravatar_id=b9896d170716175a070c8c03cda3b97f&amp;default=identicon" width="40" /></span>
          <span class="author">
            
              vjt
            
          </span>
          <span class="date">02.20.09 / 18PM</span>
        </cite>
        <div class="content">
          <p>Hi,</p>


	<p>the error is very odd, digging through the AR sources, what&#8217;s `nil` is <code>AR::Base::skip_time_zone_conversion_for_attributes</code>, an attribute that isn&#8217;t touched by the permalink_fu plugin.</p>


	<p>It&#8217;s very weird, care to post a gist with more information about what&#8217;s in the database, request and response?</p>


	<p>Thanks.</p>
        </div>
        <div class="clear"></div>
      </li>
      
    </ol>
    
  </div>
</div>
  

<div id="ancillary">
  <div class="inside">

    <div class="block first">
  <h2><a href="../../../marcello-barnaba.html">About</a></h2>
  <p>This is <a href="../../../marcello-barnaba.html">sindro.me</a>, a weblog by <a href="../../../marcello-barnaba.html">Marcello Barnaba</a> (<a href="http://twitter.com/vjt"><em>@vjt</em></a>) about technology, ruby, development, software, the internet, entertainment, politics, sociology, and the answer to Life, Universe, and Everything (42).</p>

  <h2>Links</h2>
  <ul class="counts">
    <li><a href="http://segmentation-fault.core-dumped.info/">Segmentation fault (core dumped)</a></li>
    <li><a href="http://www.linkedin.com/in/marcellobarnaba" target="_blank">LinkedIn</a></li>
    <li><a href="http://www.linkedin.com/profile/pdf?id=18152447&amp;pdfFileName=MarcelloBarnaba-Resume&amp;disablePdfCompression=true">Resum&egrave;</a></li>
    <li><a href="https://github.com/vjt" target="_blank">github</a></li>
    <li><a href="http://sourceforge.net/users/vjt" target="_blank">sourceforge profile</a></li>
    <li><a href="https://plus.google.com/+MarcelloBarnaba" target="_blank">google+</a></li>
    <li><a href="https://facebook.com/vjt.rb" target="_blank">facebook</a></li>
    <li><a href="http://devjt.deviantart.com/" target="_blank">deviantArt</a></li>
    <li><a href="http://last.fm/user/vjt" target="_blank">last.fm</a></li>
    <li><a href="http://en.wikipedia.org/wiki/User:Vjt" target="_blank">en.wikipedia user page</a></li>
    <li><a href="http://delicious.com/vjt" target="_blank">delicious</a></li>
    <li><a href="http://barnaba.openssl.it/" target="_blank">historical college projects</a></li>
    <hr/>
    <li><a href="http://www.ifad.org/">Work - IFAD</a></li>
    <li><a href="http://antifork.org/" target="_blank">Hacks - antifork (outdated)</a></li>
  </ul>
</div>

        <div class="block">
      <h2>Recent articles</h2>
      <ul class="dates">
        
          <li><a href="../../../2014/2/28/il-vero-sistemista.html"><span class="date">02.14</span> Il vero sistemista</a></li>
        
          <li><a href="../../../2014/2/28/goto-fail.html"><span class="date">02.14</span> goto fail;</a></li>
        
          <li><a href="../../../2013/12/1/this-weekend-i-didn-t-code.html"><span class="date">12.13</span> This weekend I didn't code</a></li>
        
          <li><a href="../../../2011/9/12/install-node-js-via-apt-on-debian-squeeze.html"><span class="date">09.11</span> Install node.js via APT on Debian Squeeze</a></li>
        
          <li><a href="../../../2011/7/7/binding-port-80-for-your-development-application-server.html"><span class="date">07.11</span> Binding 80/TCP as non-root on your development server</a></li>
        
          <li><a href="../../../2011/7/2/ph-neutral-0x7db.html"><span class="date">07.11</span> PH-Neutral 0x7db</a></li>
        
          <li><a href="../../../2011/3/6/rome-rsc-2011.html"><span class="date">03.11</span> Rome RSC 2011</a></li>
        
          <li><a href="../../../2011/1/4/bsd-onto-a-macmini-4-1-no-way.html"><span class="date">01.11</span> *BSD onto a MacMini 4,1? No way. :-(</a></li>
        
      </ul>
    </div>

          <div class="block">
        <h2>Categories</h2>
        <ul class="counts">
        
          <li><a href="../../../index.html"><span class="count">64</span>everything</a></li>
        
          <li><a href="../../../development.html"><span class="count">28</span>development</a></li>
        
          <li><a href="../../../politics.html"><span class="count">13</span>politics</a></li>
        
          <li><a href="../../../number-42.html"><span class="count">29</span>number 42</a></li>
        
        </ul>
      </div>

    
    <div class="clear"></div>
  </div>
</div>


  <div id="footer">
    <div class="inside">
      <p class="copyright">Hemingway theme &copy;2003-2005 Kyle Neath</p>
      <div class="glider"><a href="http://catb.org/jargon" target="blank"><img src="../../../images/glider.png" alt="hacker's glider" title="hacker's glider"/></a></div>
      <p class="attributes">
        <a href="http://validator.w3.org/check/referer" target="_blank">Valid XHTML 1.0 Transitional</a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer/" target="_blank">Valid CSS <sub>(except for an IE hack)</sub></a>
      </p>
    </div>
  </div>

  <div id="print-footer">
  
    <p>This article is (C) Fri Feb 20 04:02:50 UTC 2009 Marcello Barnaba &lt;<a href="mailto:vjt@openssl.it">vjt@openssl.it</a>&gt;, released under a Creative Commons BY-SA license.</p>
    <p> It was printed from <a href="../../../index.html">sindro.me</a> and is available via the following link: &laquo;<a href="a-permalink_fu-improvement-allow-modification-of-permalinks-and-create-redirects-on-the-fly.html" title="A permalink_fu improvement: allow modification of permalinks and send HTTP redirects on-the-fly">A permalink_fu improvement: allow modification of permalinks and send HTTP redirects on-the-fly</a>&raquo;</p>
  
  </div>

  <!-- script type="text/javascript" src="http://antani.r13.railsrumble.com/assets/hermes.js"></script-->
  
</body>

<!-- Mirrored from sindro.me/2009/1/29/a-permalink_fu-improvement-allow-modification-of-permalinks-and-create-redirects-on-the-fly by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 08 Oct 2016 01:01:21 GMT -->
</html>
